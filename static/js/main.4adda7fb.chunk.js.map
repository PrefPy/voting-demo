{"version":3,"sources":["pages/Intro/Intro.js","components/InputSlider/InputSlider.js","pages/VotingSetup/VotingSetup.js","components/DescriptiveCheckbox/DescriptiveCheckbox.js","pages/ExistingRules/ExistingRules.js","pages/VotingAxioms/VotingAxioms.js","components/ResultTable/ResultTable.js","pages/LearnNewRule/LearnNewRule.js","pages/ApplyRule/ApplyRule.js","App.js","components/LoadSpinner/LoadSpinner.js","index.js"],"names":["Intro","useState","showRef","setShowRef","className","type","href","onClick","visible","onCancel","InputSlider","inp","onChange","detail","start","number","setNumber","onNumChange","v","span","name","field","min","max","step","value","offset","VotingSetup","data","updateData","style","display","flexDirection","justifyContent","onValuesChange","initialValues","layout","labelCol","wrapperCol","labelAlign","fields","profile","slider","map","Item","label","rules","required","message","tooltip","info","requirements","radio","Group","vals","defaultStyle","border","padding","borderRadius","cursor","checkedStyle","backgroundColor","blue","unCheckedStyle","DescriptiveCheckbox","checked","setChecked","Number","desc","ExistingRules","votingRules","rule","VotingAxioms","votingAxioms","axiom","Text","Typography","parseRemark","Title","rawtext","lines","split","l","push","ResultTable","resultData","showRemark","undefined","tabledata","columns","col","uuid","rows","row","box","strong","remark","LearnNewRule","showError","state","setState","onSubmit","input","trackPromise","axios","post","server","then","res","console","log","result","filter","t","privacy","setup","privacy_req","learned_models","paddingTop","width","title","footer","ApplyRule","learnedModels","App","curStep","setCurStep","concat","e","i","key","reduce","a","item","setupData","setSetupData","ruleData","setRuleData","axiomData","setAxiomData","stepContent","content","axioms","maxWidth","maxHeight","margin","position","top","bottom","left","right","height","current","c","Step","hidden","window","scroll","behavior","disabled","length","alignItems","target","rel","LoadSpinner","props","usePromiseTracker","promiseInProgress","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4adda7fb.chunk.js","sourcesContent":["import { Button, Modal } from \"antd\"\nimport { useState } from \"react\"\n\n\nconst Intro = () =>{\n  const [showRef,setShowRef] = useState(false)\n\n  return(\n    <>\n      <div className=\"main-content\">\n        <h3><b>Introduction</b></h3>\n        Voting is the most popular method of making a collective decision from individual (and often contradictory) preference of agents. Many different voting rules are developed for this purpose. Various axioms have been defined in classic social choice literature to measure goodness of a voting rule, such as Condorcet efficiency, monotonicity, anonymity etc [1]. On the other hand, in modern times new properties are also considered important for the decision-making domain such as group fairness, privacy etc. It has been shown that many of these properties are inherently incompatible with each other (e.g.,[2, 3, 4]), thus leading to a trade-off. We propose a machine learning-based method for designing new voting rules at different levels of trade-offs between these properties.<br />\n        The notion of group fairness we use is group-imbalance based fairness [4] and calculates average-case fairness of a voting rule for two groups of different sizes. The notion of privacy we use is local differential privacy [5] and we show the performance of voting rules at different levels of privacy requirement.<br />\n\n        {/* <a target='_blank' href=></a> */}\n\n        <Button type='link' href='https://www.youtube.com/watch?v=7wMiABG3b84'>\n        Link to video\n        </Button>\n\n        <br/>\n\n        <Button type='text'\n          onClick = {() => setShowRef(true)}\n        >\n          <b>References</b>\n        </Button>\n\n        <Modal\n          visible={showRef}\n          onCancel={() => setShowRef(false)}\n        >\n          [1] Felix Brandt, Vincent Conitzer, Ulle Endriss, J´erome Lang, and Ariel D Procaccia. Handbook of computational social choice. Cambridge University Press, 2016<br />\n          [2] Gil Kalai. A Fourier-theoretic perspective on the Condorcet paradox and Arrow’s theorem. Advances in Applied Mathematics, 29(3):412—426, 2002.<br />\n          [3] Ehud Friedgut, Gil Kalai, Nathan Keller, and Noam Nisan. A quantitative version of the gibbard–satterthwaite theorem for three alternatives. SIAM Journal on Computing, 40(3):934–952, 2011.<br />\n          [4] Farhad Mohsin, Ao Liu, Pin-Yu Chen, Francesca Rossi, and Lirong Xia. Learning to Design Fair and Private Voting Rules.\", AI For Social Good Workshop (AI4SG), 30th International Joint Conference on Artificial Intelligence (IJCAI-21), 2021.<br />\n          [5] Alexandre Evfimievski, Johannes Gehrke, and Ramakrishnan Srikant. Limiting privacy breaches in privacy preserving data mining. In Proceedings of the twenty-second ACM SIGMOD-SIGACT-SIGART symposium on Principles of database systems, pages 211–222. ACM, 2003.<br />\n        </Modal>\n      </div>\n    </>\n  )\n}\nexport default Intro","import { useState } from 'react';\nimport { Row, Col, Slider, InputNumber } from 'antd';\n\nconst InputSlider = ({inp,onChange}) => {\n\tconst [number, setNumber] = useState(inp.detail.start)\n\n\t// this was hard to figure out. \n\t// Having the component have onChange makes antd form work with it\n\tconst onNumChange = v => {\n\t\tsetNumber(v);\n\t\tonChange?.(v)\n\t}\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col span={12}>\n\t\t\t\t<Slider\n\t\t\t\t\tname={inp.field}\n\t\t\t\t\tmin={inp.detail.min}\n\t\t\t\t\tmax={inp.detail.max}\n\t\t\t\t\tstep={inp.detail.step}\n\t\t\t\t\tvalue={ number}\n\t\t\t\t\t// defaultValue={inp.required ? inp.detail.start: null}\n\t\t\t\t\tonChange={onNumChange}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col span={4} offset={8}>\n\t\t\t\t<InputNumber\n\t\t\t\t\tname={inp.field}\n\t\t\t\t\tmin={inp.detail.min}\n\t\t\t\t\tmax={inp.detail.max}\n\t\t\t\t\tstep={inp.detail.step}\n\t\t\t\t\tvalue={number}\n\t\t\t\t\t// defaultValue={inp.detail.min}\n\t\t\t\t\tonChange={onNumChange}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t</Row>\n\t\t// <Row>\n\t\t// \t<Col span={12}>\n\t\t// \t\t<Slider\n\t\t// \t\t\tname={props.name}\n\t\t// \t\t\tmin={props.min}\n\t\t// \t\t\tmax={props.max}\n\t\t// \t\t\tstep={props.step}\n\t\t// \t\t\tvalue={val}\n\t\t// \t\t\tonChange={update} />\n\t\t// \t</Col>\n\t\t// \t<Col span={5}>\n\t\t// \t\t<InputNumber\n\t\t// \t\t\tname={props.name}\n\t\t// \t\t\tmin={props.min}\n\t\t// \t\t\tmax={props.max}\n\t\t// \t\t\tstep={props.step}\n\t\t// \t\t\tvalue={val}\n\t\t// \t\t\tonChange={update} />\n\t\t// \t</Col>\n\t\t// </Row>\n\t)\n}\n\nexport default InputSlider","import { Slider, InputNumber, Input, Form, Radio, Button, Row, Typography, Col, Tooltip } from 'antd';\n\nimport InputSlider from '../../components/InputSlider/InputSlider';\nimport fields from '../../fields.json'\n\nconst VotingSetup = ({ data, updateData }) => {\n\n  // console.log('voting profile form created')\n  // console.log(formRef)\n\n  // const val = Form.useWatch(['no_candidates'],formRef)\n\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        // alignItems:'middle'\n      }}\n    >\n      <Form\n        // form={formRef}\n        data={data}\n        onValuesChange={updateData}\n        initialValues={data}\n        layout=\"horizontal\"\n        // initialValues={props.simuInput}\n        labelCol={{ span: 8 }}\n        wrapperCol={{ span: 16 }}\n        // style={{ width: \"90%\" }}\n        labelAlign=\"left\"\n      // onFinish={props.onSubmit}\n      >\n        <h4><b>Voting Profile</b></h4>\n        \n        {fields.profile.slider.map(inp =>\n          <Form.Item\n            label={inp.label}\n            name={inp.field}\n            key={inp.field}\n            rules={inp.required ? [{ required: true, message: 'Please input a value!' }] : []}\n            tooltip={inp.info}>\n            <InputSlider inp={inp} />\n          </Form.Item>\n        )}\n        \n\n        <h4><b>Desired Properties</b></h4>\n        {fields.requirements.slider.map(inp =>\n          <Form.Item\n            label={inp.label}\n            name={inp.field}\n            key={inp.field}\n            rules={inp.required ? [{ required: true, message: 'Please input a value!' }] : []}\n            tooltip={inp.info}>\n            <InputSlider inp={inp} />\n          </Form.Item>\n        )}\n\n        {fields.requirements.radio.map(inp => \n          <Form.Item\n            label={inp.label}\n            name={inp.field}\n            key={inp.field}\n            rules={inp.required ? [{ required: true, message: 'Please input a value!' }] : []}\n            tooltip={inp.info}>\n            <Radio.Group\n              // defaultValue={inp.detail.start}\n            >\n              {inp.detail.vals.map(v => \n                <Radio key={v} value={v}>{v}</Radio>  \n              )}\n            </Radio.Group>\n          </Form.Item>\n        )}\n      </Form>\n    </div>\n  )\n}\n\nexport default VotingSetup","import { useState } from 'react';\nimport { Row, Col } from 'antd';\nimport { blue } from '@ant-design/colors';\nconst defaultStyle = {\n\tborder: `1px solid #bfbfbf`,\n\tpadding: '5px 7px',\n\tborderRadius: 3,\n\tcursor: 'pointer'\n}\n\nconst checkedStyle = {\n\t...defaultStyle,\n\tbackgroundColor: blue[3]\n}\n\nconst unCheckedStyle = {\n\t...defaultStyle,\n\tbackgroundColor: '#f0f0f0'\n}\n\nconst DescriptiveCheckbox = ({inp,onChange}) => {\n\tconst [checked, setChecked] = useState(0)\n\n\t// this was hard to figure out. \n\t// Having the component have onChange makes antd form work with it\n\tconst onSelect = v => {\n\t\t// console.log(v.target.checked)\n\t\tsetChecked(Number(!checked));\n\t\tonChange?.(Number(!checked))\n\t}\n\n\treturn (\n\t\t<Row\n\t\t\tonClick={onSelect}\n\t\t\tstyle={checked ? checkedStyle : unCheckedStyle}\n\t\t>\n\t\t\t<Col span={6}>\n\t\t\t\t<b>{inp.label}</b>\n\t\t\t</Col>\n\t\t\t<Col span={18}>\n\t\t\t\t{inp.desc}\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default DescriptiveCheckbox","import { Form } from \"antd\"\n\nimport DescriptiveCheckbox from \"../../components/DescriptiveCheckbox/DescriptiveCheckbox\"\nimport fields from '../../fields.json'\n\nconst ExistingRules = ({data,updateData}) => {\n  return(\n    <>\n      <Form\n          data = {data}\n          layout=\"horizontal\"\n          onValuesChange={updateData}\n      >\n        {\n          fields.votingRules.map(rule =>\n            <Form.Item\n              // label={rule.label}\n              name={rule.field}\n              key={rule.field}\n            >\n              <DescriptiveCheckbox inp={rule}/>\n            </Form.Item>\n          )\n\n        }\n\n      </Form>\n    </>\n  )\n}\n\nexport default ExistingRules","import { Form } from \"antd\"\n\nimport DescriptiveCheckbox from \"../../components/DescriptiveCheckbox/DescriptiveCheckbox\"\nimport fields from '../../fields.json'\n\nconst VotingAxioms = ({data,updateData}) => {\n  return(\n    <>\n      <Form\n          data = {data}\n          layout=\"horizontal\"\n          onValuesChange={updateData}\n      >\n        {\n          fields.votingAxioms.map(axiom =>\n            <Form.Item\n              // label={rule.label}\n              name={axiom.field}\n              key={axiom.field}\n            >\n              <DescriptiveCheckbox inp={axiom}/>\n            </Form.Item>\n          )\n\n        }\n\n      </Form>\n    </>\n  )\n}\n\nexport default VotingAxioms","import './ResultTable.css';\nimport 'antd/dist/antd.css';\nimport { Typography } from 'antd';\nimport { uuid } from 'uuidv4'\n\nconst { Text,Title } = Typography\n\nconst parseRemark = rawtext => {\n\tlet lines = []\n\tfor(let l of rawtext.split('\\n')){\n\t\tlines.push(l)\n\t\tlines.push(<br/>)\n\t}\n\treturn lines\n}\n\nconst ResultTable = ({resultData, showRemark}) => {\n\n\t// console.log(resultData)\n\treturn (\n\t\tresultData !== undefined ?\n\t\t\t<div className=\"voting-result\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr className=\"theader\">\n\t\t\t\t\t\t\t{resultData.tabledata.columns.map(col=><th key={uuid()}>{col}</th>)}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{ resultData.tabledata.rows.map(row=>(\n\t\t\t\t\t\t\t<tr key={ row[0] }>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trow.map(box => <td key={uuid()}>{ box }</td>)\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t{\n\t\t\t\t\tshowRemark !== undefined && !showRemark ?\n\t\t\t\t\t<></>\n\t\t\t\t\t:\n\t\t\t\t\t<div className=\"remark\">\n\t\t\t\t\t\t<Text strong={true}>Remark: </Text> \n\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t{parseRemark(resultData.tabledata.remark)}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t:<></>\n\t);\n}\n\nexport default ResultTable","import { trackPromise } from 'react-promise-tracker'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { Button, Modal,Row,Col } from 'antd'\n\nimport { server } from '../../App'\nimport ResultTable from '../../components/ResultTable/ResultTable'\n\n// example_input = {   'no_candidates':    4,\n// 'group_ratio':      0.33, \n// 'gr_fair_req':      0.80,\n// 'conc_eff_req':     0.95,\n// 'privacy_req':      'low',\n// 'sim_runtime':      'mid',\n// 'is_sample':        'true',\n// 'output_type':      'learned'\n// }\n\n\nconst LearnNewRule = ({data}) => {\n\n  const [state,setState] = useState({showError:false})\n\n  const onError = () => {\n    setState({...state,showError:true})\n  }\n\n  const onSubmit = input => {\n    trackPromise(\n      axios.post(`${server}/run_sim`,input).then(res=>{\n          console.log('got this in  return')\n          console.log(res.data.display)\n          if(res.data.display !== undefined){\n              setState({...state,result:res.data.display.filter(t => t.privacy == data.setup.privacy_req)[0],learned_models:res.data.learned_models})\n          }else{\n              // console.log(res.data)\n              onError()\n          }\n  \n          //     props.history.push({pathname:'/result',state:{resultData:res.data, simuInput:simuInput}})\n          // else\n          //     setSimuInput({...simuInput,showError:true})\n      })\n    )\n  }\n\n  return(\n    <>\n      <Row\n        style={{\n          paddingTop:'2%'\n        }}\n      >\n        <Col span={4} offset={10}>\n          <Button\n            type='primary'\n            onClick = {() => onSubmit(data.setup)}\n            style={{\n              width: '100%'\n            }}\n          >\n            Learn voting rules\n          </Button>\n        </Col>\n\n      </Row>\n      \n\n\n      <ResultTable resultData = {state.result}/>\n\n\n\n      <Modal\n        title='Message'\n        footer={null}\n        onCancel= {() => {\n            setState({...state,showError:false})\n        }}\n        visible = {state.showError}\n      >\n\n      </Modal>\n\n    </>\n  )\n}\n\nexport default LearnNewRule","\n\nconst ApplyRule = ({learnedModels}) => {\n  return(\n    <></>\n  )\n}\n\nexport default ApplyRule","import { useState,useEffect, useRef } from 'react';\n// import StartPage from './pages/startpage/StartPage.js';\n// import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport 'antd/dist/antd.css';\nimport { Button, Form, Layout, Steps, Tabs, Row, Col } from 'antd';\n\nimport fields from './fields.json'\nimport Intro from './pages/Intro/Intro.js';\nimport VotingSetup from './pages/VotingSetup/VotingSetup.js';\nimport ExistingRules from './pages/ExistingRules/ExistingRules.js';\nimport VotingAxioms from './pages/VotingAxioms/VotingAxioms.js';\nimport LearnNewRule from './pages/LearnNewRule/LearnNewRule.js';\nimport ApplyRule from './pages/ApplyRule/ApplyRule';\n\n// export const server = 'http://127.0.0.1:5001'\nexport const server = 'https://voting-demo-backend.herokuapp.com'\n\nconst App = () => {\n  // const [state, setstate] = useState({\n  //   server: ,\n  //   // curIdx: 0\n  // })\n  const [curStep,setCurStep] = useState(0)\n  // required input but also prefilled\n  const [setupData,setSetupData] = useState(\n    fields.profile.slider.concat(\n      fields.requirements.slider\n    ).concat(\n      fields.requirements.radio\n    ).filter(e => e.required).map(i =>\n      ({key:i.field, value:i.detail.start})\n    ).reduce((a,item) => (a[item.key] = item.value, a), {})\n  )\n  const [ruleData,setRuleData] = useState({})\n  const [axiomData,setAxiomData] = useState({})\n\n  const stepContent = [\n    {\n      title: 'Introduction',\n      content: <Intro />\n    },{\n      title: 'Setup',\n      content: <VotingSetup data={setupData} updateData={data => setSetupData({...setupData,...data})} />\n    },{\n      title: 'Existing Voting Rules',\n      content: <ExistingRules data={ruleData} updateData = {data => setRuleData({...ruleData,...data})} />\n    },{\n      title: 'Voting Axioms',\n      content: <VotingAxioms data={axiomData} updateData={data => setAxiomData({...axiomData,...data})}/>\n    },{\n      title: 'Learn New Rules',\n      content: <LearnNewRule data={{setup:setupData,rules:ruleData,axioms:axiomData}}/>\n    },{\n      title: 'Apply Learned Rules',\n      content: <ApplyRule />\n    }\n\n  ]\n\n\n\n  // const [votingProfileForm] = Form.useForm()\n  // const no_candidates = Form.useWatch('no_candidates',votingProfileForm)\n  // const group_ratio = Form.useWatch('group_ratio',votingProfileForm)\n\n  // const [existingRulesForm] = Form.useForm()\n  // const use_rule_1 = Form.useWatch('rule1',existingRulesForm)\n\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        // margin: '10px 20px',\n        maxWidth: 2000,\n        maxHeight: 1200,\n        margin: 'auto',\n        padding: '2% 5%',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        // border:'1px solid red'\n      }}\n    >\n      <div\n        style={{\n          height: 800\n        }}\n      >\n        <Steps\n          current = {curStep}\n        >\n          {stepContent.map(c => \n            <Steps.Step key={c.title} title={c.title}/>\n          )}\n        </Steps>\n        <div\n          style={{\n            margin:10,\n            height:'80%'\n          }}\n        >\n          {stepContent.map((c,i) => \n            <div \n            key={c.title}\n            hidden = {i!==curStep}\n            >\n              {c.content}\n            </div>\n          )}\n\n        </div>\n\n        <Row>\n          <Col>\n            <Button\n              // type='primary'\n              onClick={() => {setCurStep(curStep - 1); window.scroll({top:0,left:0,behavior:'smooth'})}}\n              disabled = {curStep === 0}\n            >\n              Prev\n            </Button>\n          </Col>\n          <Col offset={2}>\n            <Button\n              type='primary'\n              onClick = {() => {setCurStep(curStep + 1); window.scroll({top:0,left:0,behavior:'smooth'})}}\n              disabled = {curStep === stepContent.length -1}\n            >\n              Next\n            </Button>\n          </Col>\n        </Row>\n\n      </div>\n\n\n      {/* Footer Zone */}\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'middle',\n          justifyContent: 'center'\n        }}\n      >\n        <div\n          style={{\n            margin: '0px 20px'\n          }}\n        >\n          Built by: Prof. <a target=\"_blank\" href=\"http://cs.rpi.edu/~xial\" rel=\"noopener noreferrer\">Lirong Xia</a>'s Group\n        </div>\n        <div\n          style={{\n            margin: '0px 20px'\n          }}\n        >\n          <a target=\"_blank\" href=\"https://icons8.com/icon/KwJ_oShFEoN7/elections\" rel=\"noopener noreferrer\">Elections</a> icon by <a target=\"_blank\" href=\"https://icons8.com\" rel=\"noopener noreferrer\">Icons8</a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// export const server = 'https://opra.cs.rpi.edu/polls/voting'\n\n// for local debugging\n// export const server = 'http://127.0.0.1:5001' \n\n// for heroku server\n// export const server = 'https://voting-demo-backend.herokuapp.com'\n\nexport default App","import { usePromiseTracker } from \"react-promise-tracker\";\nimport Loader from 'react-loader-spinner';\n\nimport './LoadSpinner.css'\n\nconst LoadSpinner = props => {\n  const { promiseInProgress } = usePromiseTracker()\n  return(\n    promiseInProgress && \n        <div className=\"LoadSpinner\">\n            <Loader type=\"ThreeDots\" color=\"#9ef3ec\" height=\"100\" width=\"200\"></Loader>\n        </div>\n  )\n}\n\nexport default LoadSpinner","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport LoadSpinner from './components/LoadSpinner/LoadSpinner'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <LoadSpinner />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}